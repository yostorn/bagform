<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Bag Size Form</title>
</head>
<body>
    <h1>เลือกประเภทถุง</h1>
    <form id="bagForm">
        <label for="bagType">เลือกประเภทถุง:</label>
        <select id="bagType" name="bagType">
            <option value="type1">ไม่พับปาก ไม่ใส่หู</option>
            <option value="type2">ไม่พับปาก ใส่หูเกลียวกระดาษ</option>
            <option value="type3">พับปากถุง ไม่ใส่หูเกลียว (ใส่หูเชือกได้)</option>
            <option value="type4">พับปากถุง ใส่หูเกลียวกระดาษ</option>
        </select>
        <h2>กรอกมิติของถุง</h2>
        <label for="dValue">D:</label>
        <input type="number" id="dValue" name="dValue" step="0.1"><br>
        <label for="wValue">W:</label>
        <input type="number" id="wValue" name="wValue"><br>
        <label for="hValue">H:</label>
        <input type="number" id="hValue" name="hValue"><br>
        <button type="button" onclick="checkSize()">ตรวจสอบ</button>
    </form>
    <p id="result"></p>

    <script>
        const sizeLimits = {
            "type1": { "7": [18, 38, 26.5, 49.5], "7.5": [18, 38, 26.25, 49.25], "8": [18, 38, 26, 49], "8.5": [18, 38, 25.75, 48.75], "9": [18, 38, 25.5, 48.5], "9.5": [18, 38, 25.25, 48.25] },
            "type2": { "7": [18, 38, 26.5, 49.5], "7.5": [18, 38, 26.25, 49.25], "8": [18, 38, 26, 49], "8.5": [18, 38, 25.75, 48.75], "9": [18, 38, 25.5, 48.5], "9.5": [18, 38, 25.25, 48.25] },
            "type3": { "7": [18, 38, 26.5, 44.5], "7.5": [18, 38, 26.25, 44.25], "8": [18, 38, 26, 44], "8.5": [18, 38, 25.75, 43.75], "9": [18, 38, 25.5, 43.5], "9.5": [18, 38, 25.25, 43.25] },
            "type4": { "7": [18, 38, 26.5, 44.5], "7.5": [18, 38, 26.25, 44.25], "8": [18, 38, 26, 44], "8.5": [18, 38, 25.75, 43.75], "9": [18, 38, 25.5, 43.5], "9.5": [18, 38, 25.25, 43.25] }
        };

        function checkSize() {
            const bagType = document.getElementById("bagType").value;
            const dValue = document.getElementById("dValue").value;
            const wValue = document.getElementById("wValue").value;
            const hValue = document.getElementById("hValue").value;

            let resultText = "ไม่สามารถตรวจสอบได้";

            if (dValue in sizeLimits[bagType]) {
                const limits = sizeLimits[bagType][dValue];
                const [wMin, wMax, hMin, hMax] = limits;

                if ((wValue >= wMin && wValue <= wMax) && (hValue >= hMin && hValue <= hMax)) {
                    resultText = "ขนาดถุงที่ต้องการสามารถผลิตได้";
                } else {
                    resultText = "ขนาดถุงที่ต้องการไม่สามารถผลิตได้";
                    if (wValue < wMin || wValue > wMax) {
                        resultText += ` เนื่องจาก W ต้องอยู่ในช่วง ${wMin}-${wMax} ซม.`;
                    }
                    if (hValue < hMin || hValue > hMax) {
                        resultText += ` เนื่องจาก H ต้องอยู่ในช่วง ${hMin}-${hMax} ซม.`;
                    }
                }
            } else {
                resultText = "ค่า D ไม่ถูกต้อง";
            }

            document.getElementById("result").innerText = resultText;
        }
    </script>
</body>
</html>
